<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue JS - 2° curso</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src='script.js' defer></script>
</head>

<body>
    <div class='container mt-5 mx-auto' id='app'>
        <div class='row'>
            <div class='col-12 border-bottom mb-5 d-flex justify-content-between align-items-end'>
                <h1 v-bind:title='appTitle' class='h3'>{{appName}}</h1>
                <span class='h6 text-bold font-sm'>{{contactsCount}}</h1>
            </div>
            <div class='col-4'>

                <form action=''>
                    <div class='form-group mr1'>
                        <label class='h6'>Nome</label>
                        <input type='text' class='form-control' placeholder='Digite seu nome completo'
                            v-model='contact.name'>
                    </div>

                    <div class='form-group mr1'>
                        <label class='h6'>Email</label>
                        <input type='text' class='form-control' placeholder='Digite seu e-mail' v-model='contact.email'>
                    </div>

                    <div class='form-group mr1'>
                        <label class='h6'>Contato</label>
                        <input type='text' class='form-control' placeholder='Digite seu telefone/celular'
                            v-model='contact.phone'>
                    </div>

                    <!-- O modificador .prevent remove o comportamento padrão de um elemento. No caso de um button, o envio do formulário -->
                    <button v-if='!isEdit' class='btn btn-success' @click.prevent='addContact(contact)'>Criar contato</button>
                    <button v-if='isEdit' class='btn btn-primary' @click.prevent='updateContact(contact)'>Atualizar contato</button>
                </form>
            </div>

            <div class='col-8 border-left'>
                <div class='contact' v-if='contacts.length'>
                    <div class='col-12 mb-2' v-for='contact in contacts'>
                        <div class='card'>
                            <div class='card-body'>
                                <span class='card-title h6'>{{contact.name}}</span>
                                <p class='card-text'>{{contact.email}} | {{contact.phone}}</p>
                                <button class='btn btn-sm btn-primary' @click.prevent='editContact(contact)'>Editar</button>
                                <button class='btn btn-sm btn-danger' @click.prevent='deleteContact(contact.id)'>Deletar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div v-else class='mt-3 text-muted'>
                    <span>Nenhum contato encontrado.</span>
                </div>
            </div>
        </div>

    </div>
</body>

</html>